<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Colors in motion - Interactive Information</title>

<style>

body {
    background: linear-gradient(120deg, rgb(244, 239, 188), rgb(48, 159, 196));
    min-height: 100vh;
}

div {
    position: absolute;
    box-shadow: 10px 20px 20px gray;
    text-align: center;
}


#square {
    background-color: hsl(275, 58%, 62%); 
    width: calc(20vw + 10vh);
    height: calc(20vw + 10vh);
    top: 30vh;
    left: 30vw;
}

#circle {
    background-color: hsla(162, 63%, 57%, 66%);
    width: calc(20vw + 16vh);
    height: calc(20vw + 16vh);
    border-radius: calc( 10vw + 8vh);
    top: 40vh;
    left: 40vw;
}

</style>
</head>
<body>

    <br>
    <h1 style="text-align: center; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Click me</h1>

<div id="square">
    <p style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Click us too</p>

    </div>
<div id="circle"></div>

<script>
document.addEventListener('mousedown', (e) => {
    const angleX =( e.clientX / window.innerWidth)*360;
    document.body.style.background = `linear-gradient(${angleX}deg, rgb(${255-angleX}, 16, 67), rgb(${255-angleX}, 96, 59)) `; 
});

document.addEventListener('mouseup', (e) => {
    const angleX =( e.clientX / window.innerWidth)*360;
    document.body.style.background = `linear-gradient(${angleX}deg, rgb(${angleX} 239 188), rgb(${angleX} 159 196)) `;
});

document.addEventListener('mousemove', (e) => {
    const angleX =( e.clientX / window.innerWidth)*360;
    document.body.style.background = `linear-gradient(${angleX}deg, rgb(${angleX} 239 188), rgb(${angleX} 159 196)) `;

    const displacement = ( e.clientY / window.innerHeight)*30;
    const blur = ( e.clientY / window.innerHeight)*20;
    const divs = document.getElementsByTagName(`div`);
    for (let div of divs) div.style.boxShadow = `${displacement}px ${displacement}px ${blur}px black`;

});

const divs = document.getElementsByTagName(`div`);
for (let div of divs) {div.addEventListener('mousedown', (f) => {
    
    // use e.clientX and e.clientY to get current mouse pointer position
    // console.log(e.clientX, e.clientY);
    const angleY =( f.clientY / window.innerHeight)*360;
  
    document.getElementById("square").style.backgroundColor = `hsla(${angleY}, 50%, 70%, 60%)`;
    document.getElementById("circle").style.backgroundColor = `hsla(${angleY}, 70%, 50%, 60%)`;


});}

</script>

</body>
</html>